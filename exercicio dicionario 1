'''Exercício 2: Escreva um programa que categorize cada mensagem de
e-mail de acordo com o dia em que a mensagem foi enviada. Para
isso, procure por linhas que comecem com “From”, depois procure pela
terceira palavra e mantenha uma contagem de ocorrência para cada dia
da semana. No final do programa, mostre em tela o conteúdo do seu
dicionário (a ordem não interessa).
linha exemplo:
From stephen.marquard@uct.ac.za Sat Jan 5 09:14:16 2008
Exemplo de código:
python dow.py
Enter a file name: mbox-short.txt
{'Sex': 20, 'Qui': 6, 'Sab': 1}'''

try:
    arquivo = input('Digite o nome do arquivo: ')
    leitura = open(arquivo,'r')
    dias = dict()
    for line in leitura:
        line = line.split()
        if len(line) == 0: continue
        if line[0] == 'From':
            dias[line[2]] = dias.get(line[2],0) + 1
    print(dias)

except:
    print('Não foi possivel abrir o arquivo')
    exit()

============================================================================
'''Exercício 1: Escreva um programa simples para simular a operação do
comando grep em Unix. Peça ao usuário para entrar com uma expressão
regular e conte o número de linhas que se igualam à expressão digitada:'''

import re
resultado = None
cont = 0

arquivo = input('Digite o arquivo desejeado: ')
expr = input('Digite a Expressão a ser procurada: ')
leitura = open(arquivo,'r')
for line in leitura:
    line = line.rstrip()
    resultado = re.findall(expr, line)
    if len(resultado) > 0:
        cont +=1
print('O arquivo {} teve {} linhas que se igualam a {} '.format(arquivo,cont,expr))
